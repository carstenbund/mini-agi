## mini-agi

Symbolic Memory Core (SMC) – a tiny proto-AGI skeleton for experimenting with symbolic recursion and local language models.

## Overview

SMC maintains a graph of **motifs** – compact pieces of content tagged with symbols and linked to related motifs. Motifs can be generated by local models via [Ollama](https://ollama.ai/) and captured from interactive threads. The system supports basic similarity search, novelty detection and heuristic confidence scoring.

## Project Structure

```
src/symbolic_recursion/
  core/        # motif data model, storage, router, Ollama interface
  threads/     # thread manager for chatting with a local model
  embeddings/  # simple term-frequency embedding + cosine similarity
  utils/       # novelty and confidence heuristics
  experiments/ # novelty loop and reporting scripts
scripts/run_cli.py  # command-line interface
data/motifs.json    # persisted motif graph
```

## Installation

```bash
pip install -e .
```

## CLI Quick Start

Add and query motifs stored in `data/motifs.json`:

```bash
python scripts/run_cli.py add --symbols justice,gradient --content "Justice as fairness across contexts"
python scripts/run_cli.py list
python scripts/run_cli.py chat --prompt "Briefly outline Justice as a Gradient" --capture justice,gradient
```

## Chroma Persistence

SMC can persist vector search data using [Chroma](https://www.trychroma.com/).
To enable it:

1. Install the optional dependency (and SBERT for better embeddings):

   ```bash
   pip install chromadb sentence-transformers
   ```

2. (Optional) Index existing motifs into Chroma:

   ```bash
   python scripts/motif_to_chroma.py
   ```

3. Select the Chroma router via an environment variable or CLI flag:

   ```bash
   SMC_ROUTER=chroma python scripts/run_cli.py query --text "hello world"
   # or
   python scripts/run_cli.py --router chroma query --text "hello world"
   ```

Chroma data is stored under `data/chroma/`.

## Experiments

The novelty harness generates motifs with an LLM and scores semantic novelty.

```bash
python -m symbolic_recursion.experiments.run_loop_novelty experiments/scenario.json
python -m symbolic_recursion.experiments.report_novelty
```

## License

MIT / Apache 2.0 (TBD)
